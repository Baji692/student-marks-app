<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Student Marks Calculator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <style>
  #splash {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background-color: white;
    z-index: 9999;
  }

  #main-content {
    display: none;
  }
</style>


  <script>
    function generateSubjectFields() {
      const count = document.getElementById("num_subjects").value;
      const container = document.getElementById("subject-fields");
      container.innerHTML = "";

      for (let i = 1; i <= count; i++) {
        container.innerHTML += `
          <div class="row mb-2">
            <div class="col-4">
              <input type="text" name="subject_name_${i}" class="form-control" placeholder="Subject ${i} Name" required>
            </div>
            <div class="col-4">
              <input type="number" name="subject_mark_${i}" class="form-control" placeholder="Marks Obtained" required>
            </div>
            <div class="col-4">
              <input type="number" name="subject_max_${i}" class="form-control" placeholder="Max Marks" required>
            </div>
          </div>`;
      }
    }

    window.onload = () => {
      document.getElementById("num_subjects").value = 5;
      generateSubjectFields();
    };
  </script>
</head>
<body class="bg-light">

  <!-- Splash Screen -->
  <div id="splash" class="d-flex flex-column justify-content-center align-items-center">
    <h1 class="mb-3">Student Marks Calculator</h1>
    <p class="text-muted">by Baji Babu Miriyala</p>
    <div class="spinner-border text-primary mt-4" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container mt-4" id="main-content">
    <div class="card shadow p-4">
      <h3 class="text-center mb-3">Student Marks Calculator</h3>
      <form action="/result" method="POST">
        <div class="mb-3">
          <label class="form-label">Student Name</label>
          <input type="text" name="name" class="form-control" placeholder="Enter your name" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Number of Subjects</label>
          <input type="number" name="num_subjects" id="num_subjects" class="form-control" min="1" max="15" onchange="generateSubjectFields()" required />
        </div>

        <div id="subject-fields"></div>

        <div class="text-center mt-3">
          <button type="submit" class="btn btn-primary">Generate Result</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <footer class="text-center mt-5 text-muted">
    &copy; Baji Babu Miriyala
  </footer>

  <script>
  window.addEventListener("load", () => {
    setTimeout(() => {
      const splash = document.getElementById("splash");
      if (splash) splash.style.display = "none";
      const mainContent = document.getElementById("main-content");
      if (mainContent) mainContent.style.display = "block";
    }, 2000);
  });
</script>


</body>
</html>
